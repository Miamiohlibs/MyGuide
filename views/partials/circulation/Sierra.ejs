<!-- begin circulation/Sierra info-->
<div id="circulation-data">
    <ul class="list-unstyled">
      <li id="checkout-out">Items Checked Out: <%= data.numCheckouts %>
      </li>
      <li id="circ-holds">Items Requested: <%= data.numHolds %>
      </li>
      <li id="money-owed" class="hideable">
        <% 
        // format fines per config.internationalization, but fail over to no formatting if it errors
        let formattedFines;
        try { formattedFines = new Intl.NumberFormat(config.internationalization.defaultLanguage, { style: 'currency', currency: config.internationalization.currency }).format(data.moneyOwed)  }
        catch (err) { formattedFines = data.moneyOwed } 
        %>
        <% if (data.moneyOwed == 0) { %>
          Money Owed: <%- formattedFines %>
        <% } else { %>
          <% moneyClass = 'danger'; moneyButtonText = 'Money Owed' %>
          <span class="hidden"> 
            <a class="btn btn-<%- moneyClass %> btn-sm" style="color: #fff!important;" data-bs-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample">
          <%- moneyButtonText %>
            </a>
          </span>
          <div class="collapse" id="collapseExample">
            <div class="card card-body">
              Money owed: <%- formattedFines %>
            </div>
          </div>
        <% } %>
      </li>
    </ul>
    <div id="sierra-account-link"><a class="btn btn-primary" href="<%- data.accountLink %>">Full Account Info </a></div>  
</div>
<!-- end circulation/Sierra info-->